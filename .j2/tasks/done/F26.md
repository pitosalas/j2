# Tasks for F26 — `/code-review` Command

### T01 — Add code-review template
**Status**: done
**Description**: Create `.j2/templates/code_review.md`. The template reads `{{rules}}` and instructs Claude to scan all source files in the project (`.j2/runner.py`, `scaffold/install.sh`, `tests/`, `.j2/templates/`, `.claude/commands/`), check each against every rule in `rules.md`, and output violations grouped by file. Each violation names the rule broken and describes the exact fix needed.

### T02 — Add code-review slash command
**Status**: done
**Description**: Create `.claude/commands/code-review.md` and `scaffold/.claude/commands/code-review.md` with YAML frontmatter description and the runner invocation `$(python3 .j2/runner.py code-review --root .)`. No arguments — the command reviews the whole project.

### T03 — Register code-review in workflow.yaml
**Status**: done
**Description**: Add a `code-review` step to `.j2/config/workflow.yaml` mapping to `code_review.md`. Place it after `milestone` in the step list.

### T04 — Write tests for code-review command
**Status**: done
**Description**: Add tests in `tests/test_runner.py` verifying: (1) the code-review template exists and contains `{{rules}}`; (2) the runner renders `code-review` without error when given a minimal project with rules and source files; (3) the rendered output contains the rules content. Add the command to `test_commands.py` `EXPECTED_COMMANDS` list and verify the command file exists and calls `runner.py code-review`.
