# F34 — `/adopt` Command

## Tasks

### T01 — Add adopt step to workflow.yaml
**Status**: done
Add an `adopt` entry to `.j2/config/workflow.yaml` with id `adopt`, command `/adopt`, template `adopt.md`, and description.

### T02 — Create adopt prompt template
**Status**: done
Create `.j2/templates/adopt.md`. The template instructs Claude to perform all 6 adopt steps in order: (1) scan for marker files and update `settings.yaml`, (2) generate a draft spec in `.j2/specs/<project-name>.md` and present it in a fenced code block, (3) generate `features.md` with existing work marked done (run tests to detect test status), (4) merge `.gitignore` by appending j2 entries, (5) merge `.claude/` config by adding slash commands without disturbing existing files and appending to `CLAUDE.md` if it exists, (6) leave README untouched. Inject `{{rules}}` only — no `{{spec}}` or `{{features}}` since these don't exist yet. Follow template token minimization rules: terse instructions, no verbose prose.

### T03 — Create adopt slash command
**Status**: done
Create `.claude/commands/adopt.md` with the standard frontmatter (description: "Adopt an existing project into j2") and the runner invocation `$(python3 .j2/runner.py adopt --root .)`.

### T04 — Add adopt command to scaffold
**Status**: done
Copy the adopt slash command to `scaffold/.claude/commands/adopt.md` so it ships with new deployments.

### T05 — Write tests for adopt command
**Status**: done
Add tests to verify: (1) the adopt step exists in workflow.yaml, (2) the adopt template renders without errors (no missing placeholders), (3) the adopt slash command file exists and contains the correct runner invocation. Follow existing test patterns in the test suite.
